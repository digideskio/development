(function(){function e(){var e=[],t=$("span[data-user-id]");t.each(function(){e.push($(this).attr("data-user-id"))});var r="https://www.coursera.org";window.location.hostname=="spark"&&(r="http://site");var i=r+"/maestro/api/user/profiles?user-ids="+e.join(",");$.ajax({url:i,dataType:"jsonp",type:"get",success:n})}function t(e){return e.replace(/^http:\/\//i,"https://")}function n(e){$.each(e,function(e,n){var r=$('span[data-user-id="'+n.id+'"]');if(r&&r.length){var i=$('<a href="https://www.coursera.org/user/i/'+n.external_id+'"></a>');i.append(n.display_name);var s=(r.attr("title")||"")+(r.find("span").attr("title")||"");s&&i.attr("title",s);if(r.attr("data-user-title")&&r.attr("data-user-title")!="Student"){var o=$("<span>"+r.attr("data-user-title")+"</span>");o.css({padding:"1px 3px 2px","font-size":"10px","font-weight":"bold","text-transform":"uppercase",background:"#ebbc4c",margin:"0px 4px 0px 6px"}),i.append(o)}if(n.photo_24){var u=$('<img src="'+t(n.photo_24)+'">');u.css({width:"24px",height:"24px","vertical-align":"bottom","margin-left":"5px",border:"1px solid #CCC"}),i.append(u)}r.empty().append(i)}})}if(!window.$)return;$(document).ready(function(){e()})})()